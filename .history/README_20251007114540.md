# 🏢 **Property Management Platform - Admin Dashboard**

Questa piattaforma permette di gestire le prenotazioni degli ospiti tramite un **backend Node.js + AWS DynamoDB** e un **frontend React + Redux**.  
Il sistema supporta la **paginazione lato backend** per evitare payload troppo grandi, filtrando solo le prenotazioni ±7 giorni rispetto alla data corrente.

---

## 🖼️ **Anteprima Dashboard**

![Dashboard Preview](./images/gif.gif)

---

![DYNAMODB](./images/image1.png)
![DYNAMODB](./images/image2.png)

## 📂 **Struttura del progetto**

progetto/
│
├─ backend/
│ ├─ server.js # Express server
│ ├─ getBookings.js # Funzione per leggere bookings da DynamoDB con paginazione e batchGet guests
│ ├─ seed.js # Script per popolare DynamoDB con prenotazioni e guest
│ ├─ package.json
│ └─ .env # Credenziali AWS (Access Key, Secret Key, Region)
│
└─ frontend/
├─ src/
│ ├─ redux/
│ │ └─ bookingsSlice.js # Redux slice con fetchBookings e gestione paginazione
│ ├─ App.js
│ └─ ... altri componenti
├─ package.json
└─ ...

---

## 🛠️ **Prerequisiti**

- Node.js v18+
- AWS Account con DynamoDB
- Tabelle DynamoDB: `Bookings` e `Guests`
- AWS IAM User con chiavi di accesso (Access Key ID e Secret Key)

---

## ⚙️ **Setup Backend**

1. Installare dipendenze:

```bash
cd backend
npm install
Creare file .env con le credenziali AWS:

dotenv
Copia codice
AWS_ACCESS_KEY_ID=TUO_ACCESS_KEY_ID
AWS_SECRET_ACCESS_KEY=TUO_SECRET_ACCESS_KEY
AWS_REGION=eu-north-1
Popolare DynamoDB con dati di test (200 bookings + guest):

bash
Copia codice
node seed.js
Avviare il server Express:

bash
Copia codice
node server.js
Server in ascolto su http://localhost:5000

⚡ Setup Frontend
Installare dipendenze:

bash

cd frontend
npm install
Avviare il frontend React:

bash
Copia codice
npm start
Dashboard disponibile su http://localhost:3000

🚀 Funzionamento principale
Backend (getBookings.js)
Paginazione: usa Limit e ExclusiveStartKey per caricare blocchi di prenotazioni.

Filtro date: prende solo prenotazioni ±7 giorni rispetto ad oggi.

BatchGet guest: recupera tutti i guest dei bookings in un'unica chiamata.

LastKey: restituisce chiave per la pagina successiva.

Frontend (bookingsSlice.js)
fetchBookings(lastKey) richiama il backend e aggiorna lo store Redux.

state.list accumula le prenotazioni.

Bottone Load More carica le pagine successive tramite lastKey.

🛠️ Problemi risolti
Problema	Soluzione
Payload troppo grande (HTTP 413)	Backend carica prenotazioni a blocchi con Limit + ExclusiveStartKey
Troppe chiamate a DynamoDB per guest	BatchGet per recuperare tutti i guest in una chiamata
Prenotazioni fuori range di date	Filtro ±7 giorni rispetto a oggi
Frontend crash quando action.payload.bookings undefined	Fallback `action.payload.bookings

🧪 Testing
Avvia backend e frontend.

Apri la dashboard → vedrai le prime 50 prenotazioni.

Premi Load More per caricare le successive.

Controlla la console backend per eventuali errori DynamoDB.

📌 Note
Assicurati che backend e frontend siano entrambi attivi per far funzionare la dashboard.

La paginazione lato backend previene payload troppo grandi e ottimizza le chiamate a DynamoDB.